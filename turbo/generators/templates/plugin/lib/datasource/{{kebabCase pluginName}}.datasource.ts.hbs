import { BaseDataSource, type BasePluginContext } from "@repo/util-plugin-sdk";

import { {{pascalCase pluginName}}Settings } from "../{{kebabCase pluginName}}-settings.schema.ts";

export class {{pascalCase pluginName}}APIError extends Error {}

export class {{pascalCase pluginName}}API extends BaseDataSource<{{pascalCase pluginName}}Settings> {
  override baseURL = "https://{{kebabCase pluginName}}.com/api/";
  override serviceName = "{{pascalCase pluginName}}";

  override async validate() {
    try {
      // Implement your own validation logic here
      await this.get('validate');

      return true;
    } catch {
      return false;
    }
  }
}

export type {{pascalCase pluginName}}ContextSlice = BasePluginContext
